<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Suite Collection – Social Previews</title>
<style>
  /* ---------- Root variables (desktop first) ---------- */
  :root {
    --gap: 0.5rem;           /* thumbnail-to-thumbnail spacing  */
    --thumb-width: 143px;    /* desktop thumbnail size          */
    --font-sans: "Helvetica Neue", Helvetica, Arial, sans-serif;
  }

  /* ---------- Global styles ---------- */
  body {
    margin: 0;
    font-family: var(--font-sans);
    line-height: 1.4;
    color: #222;

    /* enables vertical-centring of the main wrapper */
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  header {
    padding: 1.5rem var(--gap) 0;
  }
  h1 { margin: 0; font-size: 1.6rem; font-weight: 700; }
  h2 { margin: 0.25rem 0 1.5rem; font-size: 1rem; font-weight: 500; color: #777; }

  /* ---------- Layout ---------- */
  .wrapper {
    flex: 1;
    display: flex;
    /* row-gap then column-gap → 400 px between grid & preview */
    gap: var(--gap) 200px;
    padding: 0 var(--gap) var(--gap);
    max-width: 1600px;
    margin: 0 auto;
    align-items: center;     /* vertical centring on desktop */
  }

  /* ----- Thumbnail grid ----- */
  .grid {
    display: grid;
    grid-template-columns: repeat(3, var(--thumb-width));
    grid-auto-rows: calc(var(--thumb-width) * 1.25); /* 4:5 ratio */
    gap: var(--gap);
  }
  .grid img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    cursor: pointer;
    border: 1px solid #ddd;
    transition: opacity 0.2s;
  }
  .grid img:hover { opacity: 0.8; }

  /* ----- Preview area ----- */
  .preview {
    flex: 1 1 60%;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    min-width: 0;
  }
  .preview img {
    width: 70%;
    aspect-ratio: 4 / 5;
    object-fit: cover;
    border: 1px solid #ddd;
    opacity: 1;                         /* start fully visible */
    transition: opacity 0.5s ease;      /* fade duration */
  }
  .caption-body { margin: 0; }
  .caption-date { font-weight: 700; margin: 0.25rem 0 0; }

  /* ---------- Carousel Styling ---------- */

.carousel {
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  aspect-ratio: 4 / 5;
  position: relative;
  overflow: hidden;
  border: 1px solid #ddd;
}


.carousel video,
.carousel img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.carousel video.active,
.carousel img.active {
  opacity: 1;
  position: relative;
  z-index: 1;
}

.carousel-controls {
  display: flex;
  gap: 1rem;
  margin: 0.5rem 0;
}

.carousel-controls button {
  padding: 0.3rem 1rem;
  font-size: 1rem;
  cursor: pointer;
}


  /* ---------- Mobile tweaks ---------- */
  @media (max-width: 768px) {
    :root { --thumb-width: 110px; --gap: 1rem; }
    .wrapper {
      flex-direction: column;
      align-items: stretch;
      gap: var(--gap);        /* restore normal gap stacking */
    }
    .grid { margin: 0 auto; }
    .preview { flex: 1 1 auto; }
  }
</style>
</head>
<body>
<header>
  <h1>Pocky Asian Restaurant</h1>
  <h2>Social Previews</h2>
</header>

<main class="wrapper">
  <!-- ------ GRID OF THUMBNAILS (01-thumb.jpg … 09-thumb.jpg) ------ -->
  <section class="grid" id="thumbGrid">
    <img src="Glenorchy_October2025_LR-117.jpg" data-index="0" alt="Post 1 thumbnail">
    <img src="ReelCover1.jpg" data-index="1" alt="Post 2 thumbnail">
    <img src="03-thumb.jpg" data-index="2" alt="Post 3 thumbnail">
    <img src="04-thumb.jpg" data-index="3" alt="Post 4 thumbnail">
    <img src="05-thumb.jpg" data-index="4" alt="Post 5 thumbnail">
    <img src="06-thumb.jpg" data-index="5" alt="Post 6 thumbnail">
    <img src="07-thumb.jpg" data-index="6" alt="Post 7 thumbnail">
    <img src="08-thumb.jpg" data-index="7" alt="Post 8 thumbnail">
    <img src="09-thumb.jpg" data-index="8" alt="Post 9 thumbnail">
  </section>

  <!-- ------ PREVIEW AREA ------ -->
  <section class="preview">
 <div class="carousel" id="carousel">
    <!-- JS will inject images/videos here -->
  </div>
  <div class="carousel-controls" id="carouselControls">
    <button id="prevBtn">←</button>
    <button id="nextBtn">→</button>
  </div>
  <p id="captionBody" class="caption-body">Tap on an image in the grid to preview full size image and accompanying caption.</p>
  <p id="captionDate" class="caption-date"></p>
  </section>
</main>

<script>
const captions = [
  "Caption 1",
  "Caption 2",
  "Caption 3",
  "Caption 4",
  "Caption 5",
  "Caption 6",
  "Caption 7",
  "Caption 8",
  "Caption 9"
];

const dates = [
  "17 July 2025", "17 July 2025", "17 July 2025",
  "16 July 2025", "16 July 2025", "16 July 2025",
  "15 July 2025", "15 July 2025", "15 July 2025"
];

// Each post has a list of media assets (ordered)
// You can mix image and video filenames freely
const mediaMap = [
  ["Glenorchy_October2025_LR-117.jpg", "Base Camp Door_1.webm", "Cabin_1.webm", "Glenorchy_October2025_LR-9.jpg", "Glenorchy_October2025_LR-12.jpg", "Helicopter Ascend_1.webm", "Snow Walk_1.webm", "Snow Shoeing_1.webm", "Glenorchy_October2025_LR-52.jpg", "Glenorchy_October2025_LR-136.jpg", "Tent_1.webm", "Beef Massaman_1.webm", "Mountainscape_1.webm", "Tent Fire_1.webm", "Helicopter Off_1.webm", "Glenorchy_October2025_LR-186.jpg", "Dinner Basecamp_1.webm" ],
  ["02a.jpg"],
  ["03a.jpg", "03b.jpg"],
  ["04a.mp4"],
  ["05a.jpg"],
  ["06a.jpg"],
  ["07a.jpg"],
  ["08a.jpg", "08b.mp4", "08c.jpg"],
  ["09a.jpg"]
];

const thumbGrid = document.getElementById("thumbGrid");
const carousel = document.getElementById("carousel");
const captionBody = document.getElementById("captionBody");
const captionDate = document.getElementById("captionDate");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const carouselControls = document.getElementById("carouselControls");

let currentSlide = 0;
let currentMedia = [];

function renderSlide(index) {
  const slides = carousel.querySelectorAll("img, video");
  slides.forEach((el, i) => {
    el.classList.toggle("active", i === index);
    if (el.tagName === "VIDEO") {
      if (i === index) {
        el.play();
      } else {
        el.pause();
        el.currentTime = 0;
      }
    }
  });
}

thumbGrid.addEventListener("click", e => {
  const img = e.target.closest("img[data-index]");
  if (!img) return;

  const idx = Number(img.dataset.index);
  const media = mediaMap[idx];

  // Reset carousel
  carousel.innerHTML = "";
  currentMedia = [];

  media.forEach(file => {
    const ext = file.split('.').pop();
    let el;
   if (ext === "mp4" || ext === "webm") {
el = document.createElement("video");
el.src = file;
el.muted = false;
el.playsInline = true;   // REQUIRED for iOS
el.autoplay = true;      // Optional but recommended
el.loop = true;          // Optional
    } else {
      el = document.createElement("img");
      el.src = file;
    }
    el.classList.add("slide");
    carousel.appendChild(el);
    currentMedia.push(el);
  });

  captionBody.textContent = captions[idx] || "";
  captionDate.textContent = dates[idx] || "";

  currentSlide = 0;
  renderSlide(currentSlide);

  // Show/hide nav
  carouselControls.style.display = currentMedia.length > 1 ? "flex" : "none";
});

prevBtn.addEventListener("click", () => {
  currentSlide = (currentSlide - 1 + currentMedia.length) % currentMedia.length;
  renderSlide(currentSlide);
});

nextBtn.addEventListener("click", () => {
  currentSlide = (currentSlide + 1) % currentMedia.length;
  renderSlide(currentSlide);
});
</script>

</body>
</html>

